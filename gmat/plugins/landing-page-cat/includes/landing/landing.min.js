jQuery(document).ready(function(e){function t(t,i){var c=e("#fca-lpc-optin-button").html();e("#fca-lpc-optin-button").html(n.subscribe_message),jQuery.ajax({url:n.ajaxurl,type:"POST",data:{action:"fca_lpc_add_optin",nonce:n.nonce,post_id:n.post_id,name:t,email:i}}).done(function(t){t.success?("welcome"===n.mode&&a("fca_lpc_cookie_"+n.post_id,!0,365),!n.event_tracking||"undefined"==typeof ga&&"undefined"==typeof __gaTracker||("undefined"!=typeof ga?ga("send","event","Landing Page","Email Optin",n.page_title):__gaTracker("send","event","Landing Page","Email Optin",n.page_title)),n.hasOwnProperty("redirect_on")&&n.redirect_on?window.location=n.redirect_url:(e("#fca-lpc-optin-button").html(c),e("#fca-lpc-optin-button").tooltipster({trigger:"custom",arrow:!1,theme:["tooltipster-borderless","fca-landing-page-cat-success"]}).tooltipster("open"))):e("#fca-lpc-optin-button").html("âœ˜")})}function a(e,t,a){if(0===a)document.cookie=e+"="+t+";";else{var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),document.cookie=e+"="+t+";expires="+n.toUTCString()}}var n=JSON.parse(e("#fca-lpc-data").val());e("#fca-lpc-email-input, #fca-lpc-name-input").tooltipster({trigger:"custom",arrow:!1,theme:["tooltipster-borderless","fca-landing-page-cat"]}),e("#fca-lpc-optin-button").click(function(a){if(a.preventDefault(),"button"===e(this).data("mode")&&n.event_tracking&&("undefined"!=typeof ga||"undefined"!=typeof __gaTracker))return"undefined"!=typeof ga?ga("send","event","Landing Page","Button Click",n.page_title):__gaTracker("send","event","Landing Page","Button Click",n.page_title),!0;e("#fca-lpc-email-input, #fca-lpc-name-input").tooltipster("hide"),e("#fca-lpc-email-input, #fca-lpc-name-input").removeClass("fca-lpc-invalid");var i=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,c=e("#fca-lpc-name-input").val(),o=e("#fca-lpc-email-input").val(),p=i.test(o),l=""!==c||0===e("#fca-lpc-name-input").length;l&&p?t(c,o):(e("#fca-lpc-email-input").tooltipster("content",""===o?n.required_message:n.invalid_message),p||l?p?e("#fca-lpc-name-input").addClass("fca-lpc-invalid").tooltipster("open").focus():e("#fca-lpc-email-input").addClass("fca-lpc-invalid").tooltipster("open").focus():e("#fca-lpc-email-input, #fca-lpc-name-input").addClass("fca-lpc-invalid").tooltipster("open").first().focus())}),e(".fca-lpc-input-element").keypress(function(t){13==t.which&&e("#fca-lpc-optin-button").click()}),n.do_cookie&&a("fca_lpc_cookie_"+n.post_id,!0,365)});